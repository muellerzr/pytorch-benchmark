# AUTOGENERATED! DO NOT EDIT! File to edit: nbs/utils.ipynb (unless otherwise specified).

__all__ = ['get_process_index']

# Cell
from .imports import is_tpu_available, is_multigpu_available

if is_tpu_available(False):
    import torch_xla.core.xla_model as xm

# Cell
def get_process_index():
    "Gets the local process index"
    if is_tpu_available():
        return xm.get_local_ordinal()
    elif is_multigpu_available():
        return int(os.environ.get("LOCAL_RANK", -1))
    return 0